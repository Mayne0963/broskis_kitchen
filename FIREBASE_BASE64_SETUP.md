# Firebase Service Account Base64 Setup

## Problem Solved
This resolves the Firebase service account JSON parsing errors in Vercel deployment by using base64 encoding instead of raw JSON objects.

## Environment Variable Setup

### For Vercel Dashboard:
Set the following environment variable in your Vercel project settings:

```
FIREBASE_SERVICE_ACCOUNT_BASE64=ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiYnJvc2tpcy1raXRjaGVuLTQ0ZDJkIiwKICAicHJpdmF0ZV9rZXlfaWQiOiAiZGVhMjUyNzZlMTUyNDAzZjUwMDJkMjM5YzM5ODJjNjY1ZTA3MjM4YSIsCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFDZmVONm5NVmkwSDJ2UFxuWUNkK2lnL2dqQXhRY0dtZ0FNK0RQQTU5S1ptdXE1bDVsYzJ0MmN4d2FOazZ0bHI2QjhPR1l6cGlFVWhDb2cvVVxuWXQ3TGhDcHBLVjA0S1pFbFJUN0ZzNHdKVDdWMmVqTWVMU3BGR2JaeG4xSEJSL2NaM0p3ZjBrZWhjNjBaVDhVWVxuckxDaTc3dzR1MmtrQkZiMnBYUDNYMlE5TmRraGRZbjJ6T2o1TGdUQjRXT3Y1WHBuSzdQL3A1SnN0Q3FxcjIwc1xuZk9sbXZXMnRZNzRaZEwxYUdFMnpWdExuUDd6ZFhTY2NFR0R2bmg2eVEyODZ4SjFhaFl2WStLVTYvUmdkMDJxUlxuVWRRU0FwM3NXZFNHanFMaHAwN21QMnA5ZFZ1WHRSeE1rWDJFNld2eTB5cnZiNDhWZXQxcVROTDJSTmJtTEp1R1xuanVRQzIyalhBZ01CQUFFQ2dnRUFHV0JyRWZEM2ZCdWZQM2lUZGFsSS9kaGJZZll1eTJXRm9BME9OUWc5MVQ2blxucFdKSGEyOEQvNFAzeEJ1STg2T3crTExUODJUQStuVitqbDRPQ21zUU1xYlY3TjRwempsVzFBVmp6SWJiZEt5SFxueU9RSUIzSDFoelF0UVg2NXNzQlpOSFBLV1VYNzd0SUkrN1JkOFdKZWh5cWFLeFNUdFhFVHVKMThrOW1uUytiL1xuWFJoZUhVZ3FZaG41RXBkTVlIWCsxS0ZxWUR0Q0prck1oMktmSUJTV1FySkRVbDJDVTY5UzFsUG9yY28xdEVDTVxub0xxYTh1NTN6M0p1azdDYWtrT2tySE14TTY1QWMyMjhpRVVoaHlWTCttTnNrUG8zOSt6NkpGcTMvdXBxL0twRVxuSnBSTGczUkhxY3RrdFZVSU5Ga2p0VXM0QWhCNU40QzM5VG00RGUzTHRRS0JnUURaLzhnOFVnam1nTGMwTXd0TlxuRU5lRURydGlKU0VJL3o1aUhmM1JmMVdyeDZiZ2EyQ0ltM1R2d2FhU0V4YmdnOUJNQkNERTdwOXBBS3NlNWdjSFxuYk13TWJYV2hiRTZaeUZtRlhzelMzaGNndmFpL3VzUVJPR3ZWSlhmVHR0K05LLzJQODMxQjR5RnhpWkgzUTdqa1xuNkZLUW0xMXlPekcyMWZvZmdlRzltRGIwRXdLQmdRQzdSVkdOTUJBb3JUQlh0UG1HV3hnYjFHUi92V0hiRGREMlxuVVZzSWVKR2ptVnV3MkdIWlBteDdrYXBpNGg4Z3ZFb3E4NDh0MUpwb1VwaFBJaVh2SEw5MzVlUkZrWlNTaHg5alxuNkFuNFl6c2hPQzZCeGJKUlMxOXp2MGNKelJ2VU5qOG05bzQ2RHhSQmtGaE5BWmxHejg3SmJLdDQ5K2hVQ040SVxuejVOK3pjU29yUUtCZ0FaUFloTms2SDhMa01JQkREMngxQnN0ZGYwVVNBMkRuZUduTHBhbTBlc0QvMitWakJqSVxuTHkxVmRLWGJ5Wmk4R0FaclJDdVBJS3dnYWRPZUl1dnpHVUR1MWkzUy9iOXp6aXVQSCt5bW94SytpcWpxRmd6TlxuamttQUtTVEdzVmZid3g0c2xSNllIWHEwMmJYSGp3MkpNQUtoaktYbTByeVJHd2xZY0JsVjA1bGpBb0dBSEc2VFxueVJuSStrUUJHTy9UQ29EK0VndVhEb1hVTzR2SGMvNDZFZmtzTTJodk1WUkkxdERSYTVsY0F4Tk5vb3l6dmYyb1xuZVU3VCtvNi9yUlFFS2w5MCttRWUzU2tUSTRQOFVoRENvc0YrRXJjUzZJVDVZN3BMemFqMndoZ3Y1M0lzK0Y5cVxuaklvSmkwSzlCVVArMzI5aGQ5ZFYyVkhhSmhnS2pjL21GdFJxelNrQ2dZRUF3d1crUlpZeExVc0xERFpFOHBGclxud0RtQlMxVzBzeU5JZVNzbGRIWFJjWDFkYndrWkx2M21ZWW9rR1gzaWVQNENaSTRUVm5XemhQakdIeFc3QkRPc1xuVjlxUEg2NHJ6Y0hhZ2NxRm5xSyszNXNaUGlJUjIxL2tEOXRiTkhRckRicXVOZE1tdG5LeWhJSTlKdVRKVlFGY1xuVEN6NG84c1pFQ3ovUjBwcnY2OFhYYXM9XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLAogICJjbGllbnRfZW1haWwiOiAiZmlyZWJhc2UtYWRtaW5zZGstZmJzdmNAYnJvc2tpcy1raXRjaGVuLTQ0ZDJkLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAiY2xpZW50X2lkIjogIjEwMTk2MzUxMzI3ODIwMDIzNjAwMiIsCiAgImF1dGhfdXJpIjogImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoIiwKICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwKICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsCiAgImNsaWVudF94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3JvYm90L3YxL21ldGFkYXRhL3g1MDkvZmlyZWJhc2UtYWRtaW5zZGstZmJzdmMlNDBicm9za2lzLWtpdGNoZW4tNDRkMmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K
```

### Important Notes:
1. **Remove the old `FIREBASE_SERVICE_ACCOUNT` variable** from Vercel if it exists
2. **Set this for all environments**: Production, Preview, and Development
3. The application code should decode this base64 string to get the JSON object

### How to Use in Code:
```javascript
// Decode the base64 string to get the service account JSON
const serviceAccount = JSON.parse(
  Buffer.from(process.env.FIREBASE_SERVICE_ACCOUNT_BASE64, 'base64').toString('utf-8')
);
```

### Verification:
You can verify the base64 string decodes correctly by running:
```bash
echo "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCi..." | base64 -d
```

This should output the original Firebase service account JSON.

